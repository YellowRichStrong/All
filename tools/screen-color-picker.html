<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6486368477427533"
      crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Screen Color Picker - OOPEN AII</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="icon" href="../images/logo.png" type="image/png">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="logo">
                <a href="../index.html">
                    <img src="../images/logo.png" alt="OOPEN AII Logo">
                </a>
                <h1>OOPEN AII</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="../index.html">Image Tools</a></li>
                    <li><a href="../about.html">About</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <div class="container">
            <div class="tool-container">
                <div class="tool-header">
                    <h2>Screen Color Picker</h2>
                    <p>Pick colors from anywhere on your screen with precision</p>
                </div>

                <div class="tool-content">
                    <!-- Main Picker Area -->
                    <div class="picker-section">
                        <div class="picker-controls">
                            <button class="action-btn primary-btn" id="startPickerBtn">Start Color Picker</button>
                            <button class="action-btn" id="captureScreenBtn">Capture Screen</button>
                            <div class="color-notice">
                                <p><strong>Note:</strong> This feature requires browser permissions and may not work in all browsers.</p>
                            </div>
                        </div>

                        <!-- Color Preview -->
                        <div class="color-preview-container">
                            <div class="current-color">
                                <div class="color-display" id="colorDisplay"></div>
                                <div class="color-info">
                                    <div class="color-values">
                                        <div class="color-value-group">
                                            <label>HEX:</label>
                                            <input type="text" id="hexValue" readonly>
                                            <button class="copy-btn" data-target="hexValue">Copy</button>
                                        </div>
                                        <div class="color-value-group">
                                            <label>RGB:</label>
                                            <input type="text" id="rgbValue" readonly>
                                            <button class="copy-btn" data-target="rgbValue">Copy</button>
                                        </div>
                                        <div class="color-value-group">
                                            <label>HSL:</label>
                                            <input type="text" id="hslValue" readonly>
                                            <button class="copy-btn" data-target="hslValue">Copy</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Screen Capture Area -->
                    <div class="capture-section">
                        <h3>Captured Screen</h3>
                        <div class="capture-preview" id="capturePreview">
                            <div class="placeholder-text">
                                <p>Click "Capture Screen" to take a screenshot and pick colors from it</p>
                            </div>
                            <canvas id="screenCanvas" style="display: none;"></canvas>
                        </div>
                        <div class="capture-instructions">
                            <p>After capturing, click anywhere on the image to pick a color</p>
                        </div>
                    </div>

                    <!-- Color History -->
                    <div class="color-history-section">
                        <h3>Recent Colors</h3>
                        <div class="color-history" id="colorHistory">
                            <!-- Color history items will be added here -->
                        </div>
                        <button class="action-btn" id="clearHistoryBtn">Clear History</button>
                    </div>

                    <!-- Color Palette Generator -->
                    <div class="palette-section">
                        <h3>Color Palette</h3>
                        <div class="palette-controls">
                            <button class="action-btn" id="generatePaletteBtn">Generate Palette</button>
                            <label>
                                <input type="checkbox" id="includeRecentColors"> Include Recent Colors
                            </label>
                        </div>
                        <div class="color-palette" id="colorPalette">
                            <!-- Palette colors will be generated here -->
                        </div>
                        <button class="action-btn" id="downloadPaletteBtn">Download Palette</button>
                    </div>

                    <!-- Accessibility Information -->
                    <div class="accessibility-section">
                        <h3>Color Accessibility</h3>
                        <div class="contrast-checker">
                            <div class="contrast-inputs">
                                <div class="color-input">
                                    <label>Text Color:</label>
                                    <input type="color" id="contrastTextColor" value="#000000">
                                </div>
                                <div class="color-input">
                                    <label>Background Color:</label>
                                    <input type="color" id="contrastBgColor" value="#ffffff">
                                </div>
                            </div>
                            <div class="contrast-result">
                                <h4>Contrast Ratio: <span id="contrastRatio">1:1</span></h4>
                                <div class="contrast-labels">
                                    <div class="label normal-text">Normal Text:</div>
                                    <div class="status" id="normalTextStatus">Fail</div>
                                    <div class="label large-text">Large Text:</div>
                                    <div class="status" id="largeTextStatus">Fail</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Color Picker Overlay (hidden initially) -->
    <div id="colorPickerOverlay" class="color-picker-overlay" style="display: none;">
        <div class="picker-crosshair" id="pickerCrosshair"></div>
        <div class="picker-info">
            <div class="picker-color-preview" id="pickerColorPreview"></div>
            <div class="picker-coords" id="pickerCoords">X: 0, Y: 0</div>
            <div class="picker-color-value" id="pickerColorValue">#000000</div>
            <button class="action-btn" id="cancelPickerBtn">Cancel (ESC)</button>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-links">
                <a href="../pages/contact.html">Contact Us</a>
                <a href="../pages/privacy.html">Privacy Policy</a>
                <a href="../pages/terms.html">User Rights</a>
            </div>
            <div class="copyright">
                <p>&copy; 2026 OOPEN AII. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="../js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Main elements
            const startPickerBtn = document.getElementById('startPickerBtn');
            const captureScreenBtn = document.getElementById('captureScreenBtn');
            const colorPickerOverlay = document.getElementById('colorPickerOverlay');
            const pickerCrosshair = document.getElementById('pickerCrosshair');
            const pickerColorPreview = document.getElementById('pickerColorPreview');
            const pickerCoords = document.getElementById('pickerCoords');
            const pickerColorValue = document.getElementById('pickerColorValue');
            const cancelPickerBtn = document.getElementById('cancelPickerBtn');
            const colorDisplay = document.getElementById('colorDisplay');
            const hexValue = document.getElementById('hexValue');
            const rgbValue = document.getElementById('rgbValue');
            const hslValue = document.getElementById('hslValue');
            const copyBtns = document.querySelectorAll('.copy-btn');
            const capturePreview = document.getElementById('capturePreview');
            const screenCanvas = document.getElementById('screenCanvas');
            const colorHistory = document.getElementById('colorHistory');
            const clearHistoryBtn = document.getElementById('clearHistoryBtn');
            const generatePaletteBtn = document.getElementById('generatePaletteBtn');
            const colorPalette = document.getElementById('colorPalette');
            const downloadPaletteBtn = document.getElementById('downloadPaletteBtn');
            const includeRecentColors = document.getElementById('includeRecentColors');
            const contrastTextColor = document.getElementById('contrastTextColor');
            const contrastBgColor = document.getElementById('contrastBgColor');
            const contrastRatio = document.getElementById('contrastRatio');
            const normalTextStatus = document.getElementById('normalTextStatus');
            const largeTextStatus = document.getElementById('largeTextStatus');
            
            const ctx = screenCanvas.getContext('2d');
            let colorHistoryArray = [];
            const MAX_HISTORY_ITEMS = 20;
            
            // Initialize from localStorage
            initColorHistory();
            
            // Copy color values
            copyBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const targetId = this.getAttribute('data-target');
                    const targetElement = document.getElementById(targetId);
                    targetElement.select();
                    document.execCommand('copy');
                    Utils.showNotification(`${targetId.toUpperCase().replace('VALUE', '')} copied to clipboard!`);
                });
            });
            
            // Start color picker
            startPickerBtn.addEventListener('click', async function() {
                try {
                    // This is a simulated implementation
                    // In a real application, you would use browser-specific APIs or extensions
                    simulateScreenCaptureAndPick();
                } catch (error) {
                    console.error('Error starting color picker:', error);
                    Utils.showNotification('Failed to start color picker. Try using the screen capture feature instead.', 'error');
                }
            });
            
            // Capture screen
            captureScreenBtn.addEventListener('click', async function() {
                try {
                    // Simulate screen capture for demo
                    simulateScreenCapture();
                } catch (error) {
                    console.error('Error capturing screen:', error);
                    Utils.showNotification('Failed to capture screen. Browser permissions may be required.', 'error');
                }
            });
            
            // Cancel color picker
            cancelPickerBtn.addEventListener('click', stopColorPicker);
            
            // Keyboard events for color picker
            document.addEventListener('keydown', function(e) {
                if (colorPickerOverlay.style.display === 'block' && e.key === 'Escape') {
                    stopColorPicker();
                }
            });
            
            // Clear history
            clearHistoryBtn.addEventListener('click', function() {
                colorHistoryArray = [];
                updateColorHistory();
                localStorage.removeItem('colorPickerHistory');
                Utils.showNotification('Color history cleared!');
            });
            
            // Generate palette
            generatePaletteBtn.addEventListener('click', function() {
                generateColorPalette();
                Utils.showNotification('Color palette generated!');
            });
            
            // Download palette
            downloadPaletteBtn.addEventListener('click', downloadColorPalette);
            
            // Contrast checker
            contrastTextColor.addEventListener('input', updateContrastChecker);
            contrastBgColor.addEventListener('input', updateContrastChecker);
            
            // Canvas click event for color picking
            screenCanvas.addEventListener('click', function(e) {
                const rect = screenCanvas.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                const pixel = ctx.getImageData(x, y, 1, 1).data;
                const rgb = `rgb(${pixel[0]}, ${pixel[1]}, ${pixel[2]})`;
                const hex = rgbToHex(pixel[0], pixel[1], pixel[2]);
                const hsl = rgbToHsl(pixel[0], pixel[1], pixel[2]);
                
                updateColorDisplay(hex, rgb, hsl);
                addToColorHistory(hex);
                
                Utils.showNotification('Color picked!');
            });
            
            // Simulate screen capture (demo only)
            function simulateScreenCapture() {
                // Create a sample gradient image for demo
                screenCanvas.width = 800;
                screenCanvas.height = 400;
                
                const gradient = ctx.createLinearGradient(0, 0, screenCanvas.width, screenCanvas.height);
                gradient.addColorStop(0, '#ff6b6b');
                gradient.addColorStop(0.25, '#4ecdc4');
                gradient.addColorStop(0.5, '#45b7d1');
                gradient.addColorStop(0.75, '#f7b731');
                gradient.addColorStop(1, '#e74c3c');
                
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, screenCanvas.width, screenCanvas.height);
                
                // Draw some shapes for demo
                ctx.fillStyle = '#ffffff';
                ctx.fillRect(100, 100, 50, 50);
                ctx.beginPath();
                ctx.arc(300, 150, 40, 0, Math.PI * 2);
                ctx.fillStyle = '#000000';
                ctx.fill();
                
                ctx.font = '30px Arial';
                ctx.fillStyle = '#333333';
                ctx.fillText('Click anywhere to pick color', 400, 200);
                
                // Show the canvas
                screenCanvas.style.display = 'block';
                capturePreview.querySelector('.placeholder-text').style.display = 'none';
                
                Utils.showNotification('Screen captured! Click on the image to pick a color.');
            }
            
            // Simulate screen capture and color picker (demo only)
            function simulateScreenCaptureAndPick() {
                simulateScreenCapture();
                
                // After capturing, allow color picking on the canvas
                capturePreview.style.cursor = 'crosshair';
                Utils.showNotification('Click on the captured image to pick a color.');
            }
            
            // Stop color picker
            function stopColorPicker() {
                colorPickerOverlay.style.display = 'none';
                document.body.style.cursor = 'default';
            }
            
            // Update color display
            function updateColorDisplay(hex, rgb, hsl) {
                colorDisplay.style.backgroundColor = hex;
                hexValue.value = hex;
                rgbValue.value = rgb;
                hslValue.value = hsl;
                
                // Update contrast checker with the new color
                if (Math.random() > 0.5) {
                    contrastTextColor.value = hex;
                } else {
                    contrastBgColor.value = hex;
                }
                updateContrastChecker();
            }
            
            // Add to color history
            function addToColorHistory(hex) {
                // Remove if already exists
                colorHistoryArray = colorHistoryArray.filter(color => color !== hex);
                
                // Add to beginning
                colorHistoryArray.unshift(hex);
                
                // Limit history size
                if (colorHistoryArray.length > MAX_HISTORY_ITEMS) {
                    colorHistoryArray = colorHistoryArray.slice(0, MAX_HISTORY_ITEMS);
                }
                
                updateColorHistory();
                saveColorHistory();
            }
            
            // Update color history UI
            function updateColorHistory() {
                colorHistory.innerHTML = '';
                
                colorHistoryArray.forEach(hex => {
                    const colorItem = document.createElement('div');
                    colorItem.className = 'color-history-item';
                    colorItem.style.backgroundColor = hex;
                    colorItem.setAttribute('data-color', hex);
                    colorItem.title = hex;
                    
                    // Add click event to select color
                    colorItem.addEventListener('click', function() {
                        const hex = this.getAttribute('data-color');
                        const rgb = hexToRgb(hex);
                        const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);
                        updateColorDisplay(hex, `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`, hsl);
                        Utils.showNotification(`Selected color: ${hex}`);
                    });
                    
                    colorHistory.appendChild(colorItem);
                });
            }
            
            // Save color history to localStorage
            function saveColorHistory() {
                localStorage.setItem('colorPickerHistory', JSON.stringify(colorHistoryArray));
            }
            
            // Initialize color history from localStorage
            function initColorHistory() {
                const savedHistory = localStorage.getItem('colorPickerHistory');
                if (savedHistory) {
                    try {
                        colorHistoryArray = JSON.parse(savedHistory);
                        updateColorHistory();
                    } catch (e) {
                        console.error('Error parsing color history:', e);
                    }
                }
            }
            
            // Generate color palette
            function generateColorPalette() {
                colorPalette.innerHTML = '';
                
                let baseColors = [];
                
                if (includeRecentColors.checked && colorHistoryArray.length > 0) {
                    baseColors = [...colorHistoryArray];
                } else {
                    // Generate random base colors
                    baseColors = generateRandomColors(4);
                }
                
                // Generate palette variants
                baseColors.forEach(baseColor => {
                    const paletteGroup = document.createElement('div');
                    paletteGroup.className = 'palette-group';
                    
                    // Generate color variants
                    const variants = generateColorVariants(baseColor);
                    
                    variants.forEach(color => {
                        const colorItem = document.createElement('div');
                        colorItem.className = 'palette-color';
                        colorItem.style.backgroundColor = color;
                        
                        const colorLabel = document.createElement('div');
                        colorLabel.className = 'palette-color-label';
                        colorLabel.textContent = color;
                        
                        // Copy on click
                        colorItem.addEventListener('click', function() {
                            Utils.copyToClipboard(color);
                            Utils.showNotification(`Copied ${color}`);
                        });
                        
                        colorItem.appendChild(colorLabel);
                        paletteGroup.appendChild(colorItem);
                    });
                    
                    colorPalette.appendChild(paletteGroup);
                });
            }
            
            // Download color palette
            function downloadColorPalette() {
                const paletteColors = [];
                document.querySelectorAll('.palette-color').forEach(colorItem => {
                    paletteColors.push(colorItem.style.backgroundColor);
                });
                
                if (paletteColors.length === 0) {
                    Utils.showNotification('Generate a palette first!', 'error');
                    return;
                }
                
                // Create CSV content
                let csvContent = 'Color,HEX,RGB,HSL\n';
                
                paletteColors.forEach((color, index) => {
                    const hex = color;
                    const rgb = hexToRgb(hex);
                    const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);
                    csvContent += `Color ${index + 1},${hex},rgb(${rgb.r}, ${rgb.g}, ${rgb.b}),${hsl}\n`;
                });
                
                // Create and download file
                const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
                const link = document.createElement('a');
                const url = URL.createObjectURL(blob);
                link.setAttribute('href', url);
                link.setAttribute('download', 'color-palette.csv');
                link.style.visibility = 'hidden';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                Utils.showNotification('Color palette downloaded as CSV!');
            }
            
            // Update contrast checker
            function updateContrastChecker() {
                const textColor = contrastTextColor.value;
                const bgColor = contrastBgColor.value;
                
                const ratio = calculateContrast(textColor, bgColor);
                contrastRatio.textContent = ratio.toFixed(2) + ':1';
                
                // Update status for normal text (AA: 4.5:1, AAA: 7:1)
                if (ratio >= 7) {
                    normalTextStatus.textContent = 'AAA';
                    normalTextStatus.className = 'status status-aaa';
                } else if (ratio >= 4.5) {
                    normalTextStatus.textContent = 'AA';
                    normalTextStatus.className = 'status status-aa';
                } else {
                    normalTextStatus.textContent = 'Fail';
                    normalTextStatus.className = 'status status-fail';
                }
                
                // Update status for large text (AA: 3:1, AAA: 4.5:1)
                if (ratio >= 4.5) {
                    largeTextStatus.textContent = 'AAA';
                    largeTextStatus.className = 'status status-aaa';
                } else if (ratio >= 3) {
                    largeTextStatus.textContent = 'AA';
                    largeTextStatus.className = 'status status-aa';
                } else {
                    largeTextStatus.textContent = 'Fail';
                    largeTextStatus.className = 'status status-fail';
                }
            }
            
            // Helper functions
            function generateRandomColors(count) {
                const colors = [];
                for (let i = 0; i < count; i++) {
                    const hue = Math.floor(Math.random() * 360);
                    const saturation = 70 + Math.floor(Math.random() * 30); // 70-100%
                    const lightness = 40 + Math.floor(Math.random() * 30); // 40-70%
                    colors.push(hslToHex(hue, saturation, lightness));
                }
                return colors;
            }
            
            function generateColorVariants(baseColor) {
                const variants = [baseColor];
                const rgb = hexToRgb(baseColor);
                const hsl = rgbToHslObject(rgb.r, rgb.g, rgb.b);
                
                // Add lighter variants
                for (let i = 1; i <= 3; i++) {
                    const lightness = Math.min(100, hsl.l + i * 10);
                    variants.push(hslToHex(hsl.h, hsl.s, lightness));
                }
                
                // Add darker variants
                for (let i = 1; i <= 3; i++) {
                    const lightness = Math.max(0, hsl.l - i * 10);
                    variants.push(hslToHex(hsl.h, hsl.s, lightness));
                }
                
                return variants;
            }
            
            function rgbToHex(r, g, b) {
                return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase();
            }
            
            function hexToRgb(hex) {
                const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
                return result ? {
                    r: parseInt(result[1], 16),
                    g: parseInt(result[2], 16),
                    b: parseInt(result[3], 16)
                } : null;
            }
            
            function rgbToHsl(r, g, b) {
                r /= 255;
                g /= 255;
                b /= 255;
                
                const max = Math.max(r, g, b);
                const min = Math.min(r, g, b);
                let h, s, l = (max + min) / 2;
                
                if (max === min) {
                    h = s = 0; // achromatic
                } else {
                    const d = max - min;
                    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                    
                    switch (max) {
                        case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                        case g: h = (b - r) / d + 2; break;
                        case b: h = (r - g) / d + 4; break;
                    }
                    
                    h *= 60;
                }
                
                return `hsl(${Math.round(h)}, ${Math.round(s * 100)}%, ${Math.round(l * 100)}%)`;
            }
            
            function rgbToHslObject(r, g, b) {
                r /= 255;
                g /= 255;
                b /= 255;
                
                const max = Math.max(r, g, b);
                const min = Math.min(r, g, b);
                let h, s, l = (max + min) / 2;
                
                if (max === min) {
                    h = s = 0; // achromatic
                } else {
                    const d = max - min;
                    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                    
                    switch (max) {
                        case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                        case g: h = (b - r) / d + 2; break;
                        case b: h = (r - g) / d + 4; break;
                    }
                    
                    h *= 60;
                }
                
                return {
                    h: Math.round(h),
                    s: Math.round(s * 100),
                    l: Math.round(l * 100)
                };
            }
            
            function hslToHex(h, s, l) {
                h /= 360;
                s /= 100;
                l /= 100;
                
                let r, g, b;
                
                if (s === 0) {
                    r = g = b = l; // achromatic
                } else {
                    const hue2rgb = (p, q, t) => {
                        if (t < 0) t += 1;
                        if (t > 1) t -= 1;
                        if (t < 1/6) return p + (q - p) * 6 * t;
                        if (t < 1/2) return q;
                        if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;
                        return p;
                    };
                    
                    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                    const p = 2 * l - q;
                    
                    r = hue2rgb(p, q, h + 1/3);
                    g = hue2rgb(p, q, h);
                    b = hue2rgb(p, q, h - 1/3);
                }
                
                const toHex = x => {
                    const hex = Math.round(x * 255).toString(16);
                    return hex.length === 1 ? '0' + hex : hex;
                };
                
                return '#' + toHex(r) + toHex(g) + toHex(b).toUpperCase();
            }
            
            function calculateContrast(color1, color2) {
                const rgb1 = hexToRgb(color1);
                const rgb2 = hexToRgb(color2);
                
                const luminance1 = (0.299 * rgb1.r + 0.587 * rgb1.g + 0.114 * rgb1.b) / 255;
                const luminance2 = (0.299 * rgb2.r + 0.587 * rgb2.g + 0.114 * rgb2.b) / 255;
                
                const lighterLum = Math.max(luminance1, luminance2);
                const darkerLum = Math.min(luminance1, luminance2);
                
                return (lighterLum + 0.05) / (darkerLum + 0.05);
            }
        });
    </script>
    <style>
        .picker-section {
            margin-bottom: 30px;
        }
        
        .picker-controls {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .color-notice {
            margin-top: 15px;
            padding: 10px;
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .current-color {
            display: flex;
            gap: 20px;
            align-items: center;
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
        }
        
        .color-display {
            width: 100px;
            height: 100px;
            border-radius: 4px;
            border: 2px solid #ddd;
        }
        
        .color-values {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            width: 100%;
        }
        
        .color-value-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .color-value-group label {
            font-weight: bold;
            min-width: 50px;
        }
        
        .color-value-group input {
            flex: 1;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: monospace;
        }
        
        .copy-btn {
            padding: 6px 12px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .copy-btn:hover {
            background-color: #2980b9;
        }
        
        .capture-section {
            margin-bottom: 30px;
        }
        
        .capture-preview {
            width: 100%;
            min-height: 300px;
            background-color: #f5f5f5;
            border: 2px dashed #ddd;
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        
        .placeholder-text {
            text-align: center;
            color: #999;
            padding: 40px;
        }
        
        #screenCanvas {
            max-width: 100%;
            max-height: 600px;
            cursor: crosshair;
        }
        
        .capture-instructions {
            text-align: center;
            margin-top: 10px;
            color: #666;
            font-size: 14px;
        }
        
        .color-history-section {
            margin-bottom: 30px;
        }
        
        .color-history {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }
        
        .color-history-item {
            width: 40px;
            height: 40px;
            border-radius: 4px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.2s;
        }
        
        .color-history-item:hover {
            border-color: #333;
            transform: scale(1.1);
        }
        
        .palette-section {
            margin-bottom: 30px;
        }
        
        .palette-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .color-palette {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 15px;
        }
        
        .palette-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .palette-color {
            width: 80px;
            height: 80px;
            border-radius: 4px;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: all 0.2s;
        }
        
        .palette-color:hover {
            transform: scale(1.05);
        }
        
        .palette-color-label {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 5px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            font-size: 12px;
            text-align: center;
            opacity: 0;
            transition: opacity 0.2s;
        }
        
        .palette-color:hover .palette-color-label {
            opacity: 1;
        }
        
        .accessibility-section {
            margin-bottom: 30px;
        }
        
        .contrast-checker {
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
        }
        
        .contrast-inputs {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .color-input {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .color-input input[type="color"] {
            width: 50px;
            height: 40px;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .contrast-result {
            text-align: center;
        }
        
        .contrast-result h4 {
            margin-bottom: 10px;
        }
        
        .contrast-labels {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }
        
        .status {
            padding: 5px 10px;
            border-radius: 4px;
            font-weight: bold;
            min-width: 60px;
            text-align: center;
        }
        
        .status-aaa {
            background-color: #27ae60;
            color: white;
        }
        
        .status-aa {
            background-color: #f39c12;
            color: white;
        }
        
        .status-fail {
            background-color: #e74c3c;
            color: white;
        }
        
        .color-picker-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.3);
            z-index: 1000;
            cursor: crosshair;
        }
        
        .picker-crosshair {
            position: absolute;
            width: 20px;
            height: 20px;
            border: 2px solid #fff;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
        }
        
        .picker-info {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .picker-color-preview {
            width: 40px;
            height: 40px;
            border-radius: 4px;
            border: 1px solid #ddd;
        }
        
        .picker-coords, .picker-color-value {
            font-family: monospace;
            font-size: 14px;
        }
        
        @media (max-width: 768px) {
            .current-color {
                flex-direction: column;
                text-align: center;
            }
            
            .color-values {
                grid-template-columns: 1fr;
            }
            
            .color-value-group {
                justify-content: center;
            }
            
            .palette-controls {
                flex-direction: column;
                gap: 10px;
            }
            
            .contrast-inputs {
                flex-direction: column;
            }
            
            .contrast-labels {
                flex-direction: column;
                gap: 10px;
            }
            
            .picker-info {
                flex-direction: column;
                width: 90%;
                max-width: 300px;
            }
            
            .action-buttons {
                flex-wrap: wrap;
                gap: 10px;
            }
        }
    </style>
</body>
</html>